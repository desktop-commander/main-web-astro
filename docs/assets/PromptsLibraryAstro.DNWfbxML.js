import{b as Kt,j as e,u as q,a as Wt,d as H}from"./createLucideIcon.lbH8MOOS.js";import{r as n}from"./index.CWXBSLiN.js";import{E as Le,V as zt,e as $t,r as Gt,f as Jt,a as Yt,T as Be,s as Zt,b as qt,c as Xt,d as Qt,u as Ee}from"./EngagementMeter.B7c-P8nN.js";import{C as eo,b as to,c as oo,a as so,d as no}from"./card.Zl98YyP8.js";import{B as Q}from"./badge.D6IL2F4I.js";import{S as Ie,D as Ve,C as Fe,F as Ue}from"./search.BCfT3Ctp.js";import{A as He,a as Ke,R as We,T as ze,b as $e,S as Ge,C as he,F as Je,c as Ye,j as ro,u as ao,B as io,I as De,U as lo,P as co,d as po,e as mo,f as uo,g as fo,h as ho,i as Me}from"./UsePromptWizard.Wu7aZcPs.js";import{C as Ze,S as xo}from"./separator.7feMC1v4.js";import{S as qe}from"./shield.DHKQn7mI.js";import{F as Xe}from"./file-text.CQ5uA7qB.js";import{Z as go}from"./zap.CEqwjr9e.js";import{P as K,r as Qe}from"./index.C4392Xvt.js";import{c as vo,a as A,d as te,b as Pe,u as Oe}from"./index.nZrWgv9X.js";import{c as wo,u as _o}from"./index.2XLg-ATo.js";import{D as yo}from"./index.HP6DMYez.js";import{P as So,h as bo,u as No,R as jo,F as To,X as et}from"./index.D7vDsi4e.js";import{c as tt,A as Co,C as Io,R as Po,a as ko}from"./index.SIxPWe7A.js";import{u as Ro}from"./index.DbBN8UT9.js";import{C as ke}from"./chevron-down.BITPj5ME.js";import{C as Eo}from"./check.1Ohzk8kF.js";import{B as ae}from"./button.DH7F1eIX.js";import{S as Do}from"./SubmitPromptButton.yWaXYE9g.js";import{D as Mo,a as Oo,b as Ao,c as Lo,d as Bo}from"./dialog.D7UtVjuh.js";import{g as ot}from"./basePath.Com_9Vmi.js";import{E as Vo}from"./external-link.CJ9G_Kbx.js";import"./module.CwMc7FNh.js";import"./index.CkHrME_e.js";import"./circle.bN4dfeBf.js";import"./terminal.Fo49g-k8.js";import"./index.CxCIKqlj.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Kt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Uo={FolderSearch:Je,FolderOrganize:Ue,Code:he,BarChart3:Fe,Settings:Ge,FileText:Xe,Archive:$e,Shield:qe,Database:Ve,TestTube:ze,Clock:Ze,RefreshCw:We,ArrowRightLeft:Ke,Activity:He,Search:Ie},Ho=t=>{if(!t)return!1;const s=new Date(t),i=Math.abs(new Date().getTime()-s.getTime());return Math.ceil(i/(1e3*60*60*24))<=14};function Ko({useCase:t,onVote:s,onOpen:o}){const i=Uo[t.icon]||he,l=Ho(t.dateAdded),m=r=>{switch(r){case"Instant output":return"session-instant-output";case"Step-by-step flow":return"session-step-by-step-flow";default:return"session-instant-output"}},a=r=>{switch(r){case"Instant output":return{text:"Instant",icon:go};case"Step-by-step flow":return{text:"Step-by-Step",icon:null};default:return{text:r,icon:null}}};return e.jsxs(eo,{className:"dc-card h-full flex flex-col cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary/50 relative group after:content-['↗'] after:absolute after:bottom-3 after:right-3 after:text-xs after:text-muted-foreground/70 after:pointer-events-none after:transition-transform after:transition-colors after:duration-200 hover:after:text-primary hover:after:translate-x-0.5 hover:after:-translate-y-0.5",onClick:()=>o?.(t),role:"button",tabIndex:0,onKeyDown:r=>{(r.key==="Enter"||r.key===" ")&&(r.preventDefault(),o?.(t))},children:[e.jsx(to,{className:"pb-3",children:e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"p-2 bg-dc-surface-elevated rounded-lg",children:e.jsx(i,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(oo,{className:"text-lg leading-snug mb-2 min-h-[3rem] flex items-start",children:[t.title,l&&e.jsxs(Q,{variant:"outline",className:"ml-2 text-xs bg-primary/10 text-primary border-primary/20",children:[e.jsx(Ye,{className:"h-3 w-3 mr-1"}),"New"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Q,{variant:"outline",className:`text-foreground/70 border-foreground/20 bg-transparent font-normal ${m(t.sessionType)} whitespace-nowrap`,children:e.jsx("div",{className:"flex items-center gap-1",children:(()=>{const r=a(t.sessionType);return e.jsxs(e.Fragment,{children:[r.icon&&e.jsx(r.icon,{className:"h-3 w-3"}),e.jsx("span",{children:r.text})]})})()})})})]})]}),e.jsx("div",{className:"flex items-center shrink-0 min-w-[90px] whitespace-nowrap","aria-label":"All-time engagement",children:e.jsx(Le,{count:t.votes,size:"sm"})})]})}),e.jsx(so,{className:"flex-1 flex flex-col",children:e.jsx(no,{className:"text-sm leading-relaxed mb-4",children:t.description})})]})}function Ae(t,[s,o]){return Math.min(o,Math.max(s,t))}var Wo=[" ","Enter","ArrowUp","ArrowDown"],zo=[" ","Enter"],ie="Select",[xe,ge,$o]=wo(ie),[de]=vo(ie,[$o,tt]),ve=tt(),[Go,oe]=de(ie),[Jo,Yo]=de(ie),st=t=>{const{__scopeSelect:s,children:o,open:i,defaultOpen:l,onOpenChange:m,value:a,defaultValue:r,onValueChange:c,dir:u,name:S,autoComplete:j,disabled:f,required:v,form:T}=t,d=ve(s),[h,N]=n.useState(null),[x,_]=n.useState(null),[F,L]=n.useState(!1),z=_o(u),[b,P]=Oe({prop:i,defaultProp:l??!1,onChange:m,caller:ie}),[C,I]=Oe({prop:a,defaultProp:r,onChange:c,caller:ie}),D=n.useRef(null),W=h?T||!!h.closest("form"):!0,[Y,$]=n.useState(new Set),G=Array.from(Y).map(B=>B.props.value).join(";");return e.jsx(Po,{...d,children:e.jsxs(Go,{required:v,scope:s,trigger:h,onTriggerChange:N,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:F,onValueNodeHasChildrenChange:L,contentId:Pe(),value:C,onValueChange:I,open:b,onOpenChange:P,dir:z,triggerPointerDownPosRef:D,disabled:f,children:[e.jsx(xe.Provider,{scope:s,children:e.jsx(Jo,{scope:t.__scopeSelect,onNativeOptionAdd:n.useCallback(B=>{$(p=>new Set(p).add(B))},[]),onNativeOptionRemove:n.useCallback(B=>{$(p=>{const g=new Set(p);return g.delete(B),g})},[]),children:o})}),W?e.jsxs(Ct,{"aria-hidden":!0,required:v,tabIndex:-1,name:S,autoComplete:j,value:C,onChange:B=>I(B.target.value),disabled:f,form:T,children:[C===void 0?e.jsx("option",{value:""}):null,Array.from(Y)]},G):null]})})};st.displayName=ie;var nt="SelectTrigger",rt=n.forwardRef((t,s)=>{const{__scopeSelect:o,disabled:i=!1,...l}=t,m=ve(o),a=oe(nt,o),r=a.disabled||i,c=q(s,a.onTriggerChange),u=ge(o),S=n.useRef("touch"),[j,f,v]=Pt(d=>{const h=u().filter(_=>!_.disabled),N=h.find(_=>_.value===a.value),x=kt(h,d,N);x!==void 0&&a.onValueChange(x.value)}),T=d=>{r||(a.onOpenChange(!0),v()),d&&(a.triggerPointerDownPosRef.current={x:Math.round(d.pageX),y:Math.round(d.pageY)})};return e.jsx(Co,{asChild:!0,...m,children:e.jsx(K.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:r,"data-disabled":r?"":void 0,"data-placeholder":It(a.value)?"":void 0,...l,ref:c,onClick:A(l.onClick,d=>{d.currentTarget.focus(),S.current!=="mouse"&&T(d)}),onPointerDown:A(l.onPointerDown,d=>{S.current=d.pointerType;const h=d.target;h.hasPointerCapture(d.pointerId)&&h.releasePointerCapture(d.pointerId),d.button===0&&d.ctrlKey===!1&&d.pointerType==="mouse"&&(T(d),d.preventDefault())}),onKeyDown:A(l.onKeyDown,d=>{const h=j.current!=="";!(d.ctrlKey||d.altKey||d.metaKey)&&d.key.length===1&&f(d.key),!(h&&d.key===" ")&&Wo.includes(d.key)&&(T(),d.preventDefault())})})})});rt.displayName=nt;var at="SelectValue",it=n.forwardRef((t,s)=>{const{__scopeSelect:o,className:i,style:l,children:m,placeholder:a="",...r}=t,c=oe(at,o),{onValueNodeHasChildrenChange:u}=c,S=m!==void 0,j=q(s,c.onValueNodeChange);return te(()=>{u(S)},[u,S]),e.jsx(K.span,{...r,ref:j,style:{pointerEvents:"none"},children:It(c.value)?e.jsx(e.Fragment,{children:a}):m})});it.displayName=at;var Zo="SelectIcon",lt=n.forwardRef((t,s)=>{const{__scopeSelect:o,children:i,...l}=t;return e.jsx(K.span,{"aria-hidden":!0,...l,ref:s,children:i||"▼"})});lt.displayName=Zo;var qo="SelectPortal",ct=t=>e.jsx(So,{asChild:!0,...t});ct.displayName=qo;var le="SelectContent",dt=n.forwardRef((t,s)=>{const o=oe(le,t.__scopeSelect),[i,l]=n.useState();if(te(()=>{l(new DocumentFragment)},[]),!o.open){const m=i;return m?Qe.createPortal(e.jsx(pt,{scope:t.__scopeSelect,children:e.jsx(xe.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),m):null}return e.jsx(mt,{...t,ref:s})});dt.displayName=le;var J=10,[pt,se]=de(le),Xo="SelectContentImpl",Qo=Wt("SelectContent.RemoveScroll"),mt=n.forwardRef((t,s)=>{const{__scopeSelect:o,position:i="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:m,onPointerDownOutside:a,side:r,sideOffset:c,align:u,alignOffset:S,arrowPadding:j,collisionBoundary:f,collisionPadding:v,sticky:T,hideWhenDetached:d,avoidCollisions:h,...N}=t,x=oe(le,o),[_,F]=n.useState(null),[L,z]=n.useState(null),b=q(s,y=>F(y)),[P,C]=n.useState(null),[I,D]=n.useState(null),W=ge(o),[Y,$]=n.useState(!1),G=n.useRef(!1);n.useEffect(()=>{if(_)return bo(_)},[_]),No();const B=n.useCallback(y=>{const[M,...U]=W().map(O=>O.ref.current),[R]=U.slice(-1),E=document.activeElement;for(const O of y)if(O===E||(O?.scrollIntoView({block:"nearest"}),O===M&&L&&(L.scrollTop=0),O===R&&L&&(L.scrollTop=L.scrollHeight),O?.focus(),document.activeElement!==E))return},[W,L]),p=n.useCallback(()=>B([P,_]),[B,P,_]);n.useEffect(()=>{Y&&p()},[Y,p]);const{onOpenChange:g,triggerPointerDownPosRef:w}=x;n.useEffect(()=>{if(_){let y={x:0,y:0};const M=R=>{y={x:Math.abs(Math.round(R.pageX)-(w.current?.x??0)),y:Math.abs(Math.round(R.pageY)-(w.current?.y??0))}},U=R=>{y.x<=10&&y.y<=10?R.preventDefault():_.contains(R.target)||g(!1),document.removeEventListener("pointermove",M),w.current=null};return w.current!==null&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",U,{capture:!0})}}},[_,g,w]),n.useEffect(()=>{const y=()=>g(!1);return window.addEventListener("blur",y),window.addEventListener("resize",y),()=>{window.removeEventListener("blur",y),window.removeEventListener("resize",y)}},[g]);const[k,V]=Pt(y=>{const M=W().filter(E=>!E.disabled),U=M.find(E=>E.ref.current===document.activeElement),R=kt(M,y,U);R&&setTimeout(()=>R.ref.current.focus())}),ee=n.useCallback((y,M,U)=>{const R=!G.current&&!U;(x.value!==void 0&&x.value===M||R)&&(C(y),R&&(G.current=!0))},[x.value]),Z=n.useCallback(()=>_?.focus(),[_]),X=n.useCallback((y,M,U)=>{const R=!G.current&&!U;(x.value!==void 0&&x.value===M||R)&&D(y)},[x.value]),ce=i==="popper"?be:ut,pe=ce===be?{side:r,sideOffset:c,align:u,alignOffset:S,arrowPadding:j,collisionBoundary:f,collisionPadding:v,sticky:T,hideWhenDetached:d,avoidCollisions:h}:{};return e.jsx(pt,{scope:o,content:_,viewport:L,onViewportChange:z,itemRefCallback:ee,selectedItem:P,onItemLeave:Z,itemTextRefCallback:X,focusSelectedItem:p,selectedItemText:I,position:i,isPositioned:Y,searchRef:k,children:e.jsx(jo,{as:Qo,allowPinchZoom:!0,children:e.jsx(To,{asChild:!0,trapped:x.open,onMountAutoFocus:y=>{y.preventDefault()},onUnmountAutoFocus:A(l,y=>{x.trigger?.focus({preventScroll:!0}),y.preventDefault()}),children:e.jsx(yo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:m,onPointerDownOutside:a,onFocusOutside:y=>y.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:y=>y.preventDefault(),...N,...pe,onPlaced:()=>$(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:A(N.onKeyDown,y=>{const M=y.ctrlKey||y.altKey||y.metaKey;if(y.key==="Tab"&&y.preventDefault(),!M&&y.key.length===1&&V(y.key),["ArrowUp","ArrowDown","Home","End"].includes(y.key)){let R=W().filter(E=>!E.disabled).map(E=>E.ref.current);if(["ArrowUp","End"].includes(y.key)&&(R=R.slice().reverse()),["ArrowUp","ArrowDown"].includes(y.key)){const E=y.target,O=R.indexOf(E);R=R.slice(O+1)}setTimeout(()=>B(R)),y.preventDefault()}})})})})})})});mt.displayName=Xo;var es="SelectItemAlignedPosition",ut=n.forwardRef((t,s)=>{const{__scopeSelect:o,onPlaced:i,...l}=t,m=oe(le,o),a=se(le,o),[r,c]=n.useState(null),[u,S]=n.useState(null),j=q(s,b=>S(b)),f=ge(o),v=n.useRef(!1),T=n.useRef(!0),{viewport:d,selectedItem:h,selectedItemText:N,focusSelectedItem:x}=a,_=n.useCallback(()=>{if(m.trigger&&m.valueNode&&r&&u&&d&&h&&N){const b=m.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),C=m.valueNode.getBoundingClientRect(),I=N.getBoundingClientRect();if(m.dir!=="rtl"){const E=I.left-P.left,O=C.left-E,ne=b.left-O,re=b.width+ne,we=Math.max(re,P.width),_e=window.innerWidth-J,ye=Ae(O,[J,Math.max(J,_e-we)]);r.style.minWidth=re+"px",r.style.left=ye+"px"}else{const E=P.right-I.right,O=window.innerWidth-C.right-E,ne=window.innerWidth-b.right-O,re=b.width+ne,we=Math.max(re,P.width),_e=window.innerWidth-J,ye=Ae(O,[J,Math.max(J,_e-we)]);r.style.minWidth=re+"px",r.style.right=ye+"px"}const D=f(),W=window.innerHeight-J*2,Y=d.scrollHeight,$=window.getComputedStyle(u),G=parseInt($.borderTopWidth,10),B=parseInt($.paddingTop,10),p=parseInt($.borderBottomWidth,10),g=parseInt($.paddingBottom,10),w=G+B+Y+g+p,k=Math.min(h.offsetHeight*5,w),V=window.getComputedStyle(d),ee=parseInt(V.paddingTop,10),Z=parseInt(V.paddingBottom,10),X=b.top+b.height/2-J,ce=W-X,pe=h.offsetHeight/2,y=h.offsetTop+pe,M=G+B+y,U=w-M;if(M<=X){const E=D.length>0&&h===D[D.length-1].ref.current;r.style.bottom="0px";const O=u.clientHeight-d.offsetTop-d.offsetHeight,ne=Math.max(ce,pe+(E?Z:0)+O+p),re=M+ne;r.style.height=re+"px"}else{const E=D.length>0&&h===D[0].ref.current;r.style.top="0px";const ne=Math.max(X,G+d.offsetTop+(E?ee:0)+pe)+U;r.style.height=ne+"px",d.scrollTop=M-X+d.offsetTop}r.style.margin=`${J}px 0`,r.style.minHeight=k+"px",r.style.maxHeight=W+"px",i?.(),requestAnimationFrame(()=>v.current=!0)}},[f,m.trigger,m.valueNode,r,u,d,h,N,m.dir,i]);te(()=>_(),[_]);const[F,L]=n.useState();te(()=>{u&&L(window.getComputedStyle(u).zIndex)},[u]);const z=n.useCallback(b=>{b&&T.current===!0&&(_(),x?.(),T.current=!1)},[_,x]);return e.jsx(os,{scope:o,contentWrapper:r,shouldExpandOnScrollRef:v,onScrollButtonChange:z,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:e.jsx(K.div,{...l,ref:j,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});ut.displayName=es;var ts="SelectPopperPosition",be=n.forwardRef((t,s)=>{const{__scopeSelect:o,align:i="start",collisionPadding:l=J,...m}=t,a=ve(o);return e.jsx(Io,{...a,...m,ref:s,align:i,collisionPadding:l,style:{boxSizing:"border-box",...m.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});be.displayName=ts;var[os,Re]=de(le,{}),Ne="SelectViewport",ft=n.forwardRef((t,s)=>{const{__scopeSelect:o,nonce:i,...l}=t,m=se(Ne,o),a=Re(Ne,o),r=q(s,m.onViewportChange),c=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(xe.Slot,{scope:o,children:e.jsx(K.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:r,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:A(l.onScroll,u=>{const S=u.currentTarget,{contentWrapper:j,shouldExpandOnScrollRef:f}=a;if(f?.current&&j){const v=Math.abs(c.current-S.scrollTop);if(v>0){const T=window.innerHeight-J*2,d=parseFloat(j.style.minHeight),h=parseFloat(j.style.height),N=Math.max(d,h);if(N<T){const x=N+v,_=Math.min(T,x),F=x-_;j.style.height=_+"px",j.style.bottom==="0px"&&(S.scrollTop=F>0?F:0,j.style.justifyContent="flex-end")}}}c.current=S.scrollTop})})})]})});ft.displayName=Ne;var ht="SelectGroup",[ss,ns]=de(ht),rs=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t,l=Pe();return e.jsx(ss,{scope:o,id:l,children:e.jsx(K.div,{role:"group","aria-labelledby":l,...i,ref:s})})});rs.displayName=ht;var xt="SelectLabel",gt=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t,l=ns(xt,o);return e.jsx(K.div,{id:l.id,...i,ref:s})});gt.displayName=xt;var fe="SelectItem",[as,vt]=de(fe),wt=n.forwardRef((t,s)=>{const{__scopeSelect:o,value:i,disabled:l=!1,textValue:m,...a}=t,r=oe(fe,o),c=se(fe,o),u=r.value===i,[S,j]=n.useState(m??""),[f,v]=n.useState(!1),T=q(s,x=>c.itemRefCallback?.(x,i,l)),d=Pe(),h=n.useRef("touch"),N=()=>{l||(r.onValueChange(i),r.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(as,{scope:o,value:i,disabled:l,textId:d,isSelected:u,onItemTextChange:n.useCallback(x=>{j(_=>_||(x?.textContent??"").trim())},[]),children:e.jsx(xe.ItemSlot,{scope:o,value:i,disabled:l,textValue:S,children:e.jsx(K.div,{role:"option","aria-labelledby":d,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...a,ref:T,onFocus:A(a.onFocus,()=>v(!0)),onBlur:A(a.onBlur,()=>v(!1)),onClick:A(a.onClick,()=>{h.current!=="mouse"&&N()}),onPointerUp:A(a.onPointerUp,()=>{h.current==="mouse"&&N()}),onPointerDown:A(a.onPointerDown,x=>{h.current=x.pointerType}),onPointerMove:A(a.onPointerMove,x=>{h.current=x.pointerType,l?c.onItemLeave?.():h.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:A(a.onPointerLeave,x=>{x.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:A(a.onKeyDown,x=>{c.searchRef?.current!==""&&x.key===" "||(zo.includes(x.key)&&N(),x.key===" "&&x.preventDefault())})})})})});wt.displayName=fe;var me="SelectItemText",_t=n.forwardRef((t,s)=>{const{__scopeSelect:o,className:i,style:l,...m}=t,a=oe(me,o),r=se(me,o),c=vt(me,o),u=Yo(me,o),[S,j]=n.useState(null),f=q(s,N=>j(N),c.onItemTextChange,N=>r.itemTextRefCallback?.(N,c.value,c.disabled)),v=S?.textContent,T=n.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:d,onNativeOptionRemove:h}=u;return te(()=>(d(T),()=>h(T)),[d,h,T]),e.jsxs(e.Fragment,{children:[e.jsx(K.span,{id:c.textId,...m,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Qe.createPortal(m.children,a.valueNode):null]})});_t.displayName=me;var yt="SelectItemIndicator",St=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t;return vt(yt,o).isSelected?e.jsx(K.span,{"aria-hidden":!0,...i,ref:s}):null});St.displayName=yt;var je="SelectScrollUpButton",bt=n.forwardRef((t,s)=>{const o=se(je,t.__scopeSelect),i=Re(je,t.__scopeSelect),[l,m]=n.useState(!1),a=q(s,i.onScrollButtonChange);return te(()=>{if(o.viewport&&o.isPositioned){let r=function(){const u=c.scrollTop>0;m(u)};const c=o.viewport;return r(),c.addEventListener("scroll",r),()=>c.removeEventListener("scroll",r)}},[o.viewport,o.isPositioned]),l?e.jsx(jt,{...t,ref:a,onAutoScroll:()=>{const{viewport:r,selectedItem:c}=o;r&&c&&(r.scrollTop=r.scrollTop-c.offsetHeight)}}):null});bt.displayName=je;var Te="SelectScrollDownButton",Nt=n.forwardRef((t,s)=>{const o=se(Te,t.__scopeSelect),i=Re(Te,t.__scopeSelect),[l,m]=n.useState(!1),a=q(s,i.onScrollButtonChange);return te(()=>{if(o.viewport&&o.isPositioned){let r=function(){const u=c.scrollHeight-c.clientHeight,S=Math.ceil(c.scrollTop)<u;m(S)};const c=o.viewport;return r(),c.addEventListener("scroll",r),()=>c.removeEventListener("scroll",r)}},[o.viewport,o.isPositioned]),l?e.jsx(jt,{...t,ref:a,onAutoScroll:()=>{const{viewport:r,selectedItem:c}=o;r&&c&&(r.scrollTop=r.scrollTop+c.offsetHeight)}}):null});Nt.displayName=Te;var jt=n.forwardRef((t,s)=>{const{__scopeSelect:o,onAutoScroll:i,...l}=t,m=se("SelectScrollButton",o),a=n.useRef(null),r=ge(o),c=n.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return n.useEffect(()=>()=>c(),[c]),te(()=>{r().find(S=>S.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[r]),e.jsx(K.div,{"aria-hidden":!0,...l,ref:s,style:{flexShrink:0,...l.style},onPointerDown:A(l.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(i,50))}),onPointerMove:A(l.onPointerMove,()=>{m.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(i,50))}),onPointerLeave:A(l.onPointerLeave,()=>{c()})})}),is="SelectSeparator",Tt=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t;return e.jsx(K.div,{"aria-hidden":!0,...i,ref:s})});Tt.displayName=is;var Ce="SelectArrow",ls=n.forwardRef((t,s)=>{const{__scopeSelect:o,...i}=t,l=ve(o),m=oe(Ce,o),a=se(Ce,o);return m.open&&a.position==="popper"?e.jsx(ko,{...l,...i,ref:s}):null});ls.displayName=Ce;var cs="SelectBubbleInput",Ct=n.forwardRef(({__scopeSelect:t,value:s,...o},i)=>{const l=n.useRef(null),m=q(i,l),a=ro(s);return n.useEffect(()=>{const r=l.current;if(!r)return;const c=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==s&&S){const j=new Event("change",{bubbles:!0});S.call(r,s),r.dispatchEvent(j)}},[a,s]),e.jsx(K.select,{...o,style:{...zt,...o.style},ref:m,defaultValue:s})});Ct.displayName=cs;function It(t){return t===""||t===void 0}function Pt(t){const s=Ro(t),o=n.useRef(""),i=n.useRef(0),l=n.useCallback(a=>{const r=o.current+a;s(r),(function c(u){o.current=u,window.clearTimeout(i.current),u!==""&&(i.current=window.setTimeout(()=>c(""),1e3))})(r)},[s]),m=n.useCallback(()=>{o.current="",window.clearTimeout(i.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(i.current),[]),[o,l,m]}function kt(t,s,o){const l=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,m=o?t.indexOf(o):-1;let a=ds(t,Math.max(m,0));l.length===1&&(a=a.filter(u=>u!==o));const c=a.find(u=>u.textValue.toLowerCase().startsWith(l.toLowerCase()));return c!==o?c:void 0}function ds(t,s){return t.map((o,i)=>t[(s+i)%t.length])}var ps=st,Rt=rt,ms=it,us=lt,fs=ct,Et=dt,hs=ft,Dt=gt,Mt=wt,xs=_t,gs=St,Ot=bt,At=Nt,Lt=Tt;const vs=ps,ws=ms,Bt=n.forwardRef(({className:t,children:s,...o},i)=>e.jsxs(Rt,{ref:i,className:H("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...o,children:[s,e.jsx(us,{asChild:!0,children:e.jsx(ke,{className:"h-4 w-4 opacity-50"})})]}));Bt.displayName=Rt.displayName;const Vt=n.forwardRef(({className:t,...s},o)=>e.jsx(Ot,{ref:o,className:H("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Fo,{className:"h-4 w-4"})}));Vt.displayName=Ot.displayName;const Ft=n.forwardRef(({className:t,...s},o)=>e.jsx(At,{ref:o,className:H("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ke,{className:"h-4 w-4"})}));Ft.displayName=At.displayName;const Ut=n.forwardRef(({className:t,children:s,position:o="popper",...i},l)=>e.jsx(fs,{children:e.jsxs(Et,{ref:l,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...i,children:[e.jsx(Vt,{}),e.jsx(hs,{className:H("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Ft,{})]})}));Ut.displayName=Et.displayName;const _s=n.forwardRef(({className:t,...s},o)=>e.jsx(Dt,{ref:o,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));_s.displayName=Dt.displayName;const ue=n.forwardRef(({className:t,children:s,...o},i)=>e.jsxs(Mt,{ref:i,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(gs,{children:e.jsx(Eo,{className:"h-4 w-4"})})}),e.jsx(xs,{children:s})]}));ue.displayName=Mt.displayName;const ys=n.forwardRef(({className:t,...s},o)=>e.jsx(Lt,{ref:o,className:H("-mx-1 my-1 h-px bg-muted",t),...s}));ys.displayName=Lt.displayName;const Ht=n.forwardRef(({className:t,type:s,...o},i)=>e.jsx("input",{type:s,className:H("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...o}));Ht.displayName="Input";function Se({options:t,selected:s,onChange:o,placeholder:i="Select options...",className:l}){const[m,a]=n.useState(!1),r=n.useRef(null);n.useEffect(()=>{const f=v=>{r.current&&!r.current.contains(v.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const c=f=>{s.includes(f)?o(s.filter(v=>v!==f)):o([...s,f])},u=(f,v)=>{v.stopPropagation(),o(s.filter(T=>T!==f))},S=s.length===0?i:s.length===1?s[0]:`${s.length} selected`,j=f=>{f.key==="Escape"&&s.length>0&&(f.preventDefault(),o([]),a(!1))};return e.jsxs("div",{ref:r,className:H("relative",l),children:[e.jsxs("div",{className:"relative",children:[e.jsxs(ae,{variant:"outline",onClick:()=>a(!m),onKeyDown:j,className:"w-full justify-between h-9 font-normal",children:[e.jsx("span",{className:"truncate",children:S}),e.jsx(ke,{className:H("ml-2 h-4 w-4 shrink-0 transition-transform",m&&"rotate-180")})]}),s.includes("DevOps")&&e.jsx(Q,{className:"absolute -top-2 -right-2 bg-primary hover:bg-primary text-primary-foreground text-xs px-1.5 py-0.5 h-5 min-w-[2rem] rounded-full border-2 border-background pointer-events-none",children:"New"})]}),m&&e.jsx("div",{className:"absolute z-50 mt-1 w-full min-w-[200px] rounded-md border bg-popover text-popover-foreground shadow-md outline-none",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>o([]),className:H("flex w-full items-center rounded-sm px-2 py-1.5 text-sm hover:bg-accent hover:text-accent-foreground mx-1 w-[calc(100%-8px)]",s.length===0&&"bg-accent/50"),children:[e.jsx("span",{className:"flex-1 text-left",children:i}),s.length===0&&e.jsx("span",{className:"ml-2 text-xs",children:"✓"})]}),e.jsx("div",{className:"my-1 h-px bg-border mx-2"}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto overflow-x-hidden custom-scrollbar",children:t.map(f=>{const v=typeof f=="string"?{value:f}:f,T=s.includes(v.value);return e.jsxs("div",{className:"relative mx-1 w-[calc(100%-8px)]",children:[e.jsxs("button",{onClick:()=>c(v.value),className:H("flex w-full items-center rounded-sm px-2 py-1.5 text-sm hover:bg-accent hover:text-accent-foreground",T&&"bg-accent/50"),children:[e.jsx("span",{className:"flex-1 text-left truncate",children:v.label||v.value}),T&&e.jsx("span",{className:"ml-2 text-xs shrink-0",children:"✓"})]}),v.tag&&v.tagColor==="new"&&e.jsx(Q,{className:"absolute -top-2 -right-2 bg-primary hover:bg-primary text-primary-foreground text-xs px-1.5 py-0.5 h-5 min-w-[2rem] rounded-full border-2 border-background pointer-events-none",children:v.tag})]},v.value)})})]})}),s.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:s.map(f=>{const v=t.find(d=>typeof d=="string"?d===f:d.value===f),T=typeof v=="string"?v:v?.label||v?.value||f;return e.jsxs(Q,{variant:"secondary",className:"text-xs",children:[T,e.jsx("button",{onClick:d=>u(f,d),className:"ml-1 hover:text-destructive",children:e.jsx(et,{className:"h-3 w-3"})})]},f)})})]})}function Ss({searchTerm:t,selectedCategories:s,selectedRoles:o,selectedSessionTypes:i,sortBy:l,onSearchChange:m,onCategoriesChange:a,onRolesChange:r,onSessionTypesChange:c,onSortChange:u,onClearFilters:S}){const j=s.length>0||o.length>0||i.length>0||t.length>0;return e.jsxs("div",{className:"space-y-3 p-3 bg-card rounded-md border",children:[e.jsx("div",{className:"flex items-center justify-end",children:j&&e.jsxs(ae,{variant:"ghost",size:"sm",onClick:S,className:"h-8 px-2 text-muted-foreground hover:text-foreground",children:[e.jsx(et,{className:"h-4 w-4 mr-1"}),"Clear Filters"]})}),e.jsxs("div",{className:"relative",children:[e.jsx(Ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Ht,{placeholder:"Search prompts...",value:t,onChange:f=>m(f.target.value),className:"pl-10 h-9"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Category"}),e.jsx(Se,{options:$t,selected:s,onChange:a,placeholder:"All Categories"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Target Role"}),e.jsx(Se,{options:Gt,selected:o,onChange:r,placeholder:"All Roles"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Session Type"}),e.jsx(Se,{options:Jt,selected:i,onChange:c,placeholder:"All Session Types"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Sort By"}),e.jsxs(vs,{value:l,onValueChange:u,children:[e.jsx(Bt,{className:"h-9",children:e.jsx(ws,{})}),e.jsxs(Ut,{children:[e.jsx(ue,{value:"popularity",children:"Most Popular"}),e.jsx(ue,{value:"alphabetical",children:"Alphabetical"}),e.jsx(ue,{value:"sessionType",children:"Session Type"}),e.jsx(ue,{value:"recent",children:"Recently Added"})]})]})]})]})]})}const bs={FolderSearch:Je,FolderOrganize:Ue,Code:he,BarChart3:Fe,Settings:Ge,FileText:Xe,Archive:$e,Shield:qe,Database:Ve,TestTube:ze,Clock:Ze,RefreshCw:We,ArrowRightLeft:Ke,Activity:He,Search:Ie},Ns=t=>{if(!t)return!1;const s=new Date(t),i=Math.abs(new Date().getTime()-s.getTime());return Math.ceil(i/(1e3*60*60*24))<=14};function js({useCase:t,isOpen:s,onClose:o,onVote:i,isFullPage:l=!1}){const[m,a]=n.useState(!1),[r,c]=n.useState(!1),[u,S]=n.useState(!1),[j,f]=n.useState(!1),{toast:v}=ao(),[T,d]=n.useState(0),h=Yt(),[N,x]=n.useState(!1),[_,F]=n.useState({selectedText:"",selectionLength:0,isFullPrompt:!1,selectionTime:null});n.useEffect(()=>{if(s&&t){window.promptOpenTime=new Date().getTime();const p=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),g=localStorage.getItem("style_scout_viral_session"),w=g?JSON.parse(g):null;h.capture("prompt_modal_opened",{prompt_id:t.id,prompt_title:t.title,prompt_categories:t.categories,prompt_difficulty:t.difficulty,prompt_author:t.author,target_roles:t.targetRoles,visit_count:p,is_returning_user:p>1,is_viral_session:!!w,viral_entry_prompt:w?.prompt_id,time_since_page_load:Math.round((new Date().getTime()-(window.pageLoadTime||new Date().getTime()))/1e3)})}},[s,t,h]);const L=()=>{const p=window.getSelection();if(p&&p.toString().length>0){const g=p.toString(),w=g.length,k=t.prompt.length,V=w>k*.9;x(!0),F({selectedText:g.substring(0,100),selectionLength:w,isFullPrompt:V,selectionTime:new Date().getTime()});const ee=window.promptOpenTime?Math.round((new Date().getTime()-window.promptOpenTime)/1e3):0,Z=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),X=localStorage.getItem("style_scout_viral_session"),ce=X?JSON.parse(X):null;h.capture("prompt_text_selected",{prompt_id:t.id,prompt_title:t.title,selection_length:w,prompt_length:k,selection_percentage:Math.round(w/k*100),is_full_prompt_selected:V,time_before_selection_seconds:ee,visit_count:Z,is_returning_user:Z>1,is_viral_session:!!ce,copy_intent:"text_selection"})}else if(N){const g=window.promptOpenTime?Math.round((new Date().getTime()-window.promptOpenTime)/1e3):0,w=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),k=localStorage.getItem("style_scout_viral_session"),V=k?JSON.parse(k):null;h.capture("prompt_text_deselected",{prompt_id:t.id,prompt_title:t.title,previous_selection_length:_.selectionLength,was_full_prompt_selected:_.isFullPrompt,selection_duration_seconds:_.selectionTime?Math.round((new Date().getTime()-_.selectionTime)/1e3):null,time_before_deselection_seconds:g,visit_count:w,is_returning_user:w>1,is_viral_session:!!V,abandoned_copy_intent:!0}),x(!1)}},z=p=>{const g=window.promptOpenTime?Math.round((new Date().getTime()-window.promptOpenTime)/1e3):0,w=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),k=localStorage.getItem("style_scout_viral_session"),V=k?JSON.parse(k):null;h.capture("prompt_manual_copy_attempt",{prompt_id:t.id,prompt_title:t.title,copy_method:p,had_text_selected:N,selected_length:_.selectionLength,is_full_prompt_selected:_.isFullPrompt,time_from_selection_to_copy:_.selectionTime?Math.round((new Date().getTime()-_.selectionTime)/1e3):null,time_before_copy_seconds:g,bypass_wizard:!0,visit_count:w,is_returning_user:w>1,is_viral_session:!!V,conversion_funnel_step:"manual_copy_bypass"})},b=p=>{(p.ctrlKey||p.metaKey)&&p.key==="c"&&N&&z("keyboard")},P=p=>{if(N){const g=window.promptOpenTime?Math.round((new Date().getTime()-window.promptOpenTime)/1e3):0,w=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),k=localStorage.getItem("style_scout_viral_session"),V=k?JSON.parse(k):null;h.capture("prompt_right_click_detected",{prompt_id:t.id,prompt_title:t.title,had_text_selected:N,selected_length:_.selectionLength,is_full_prompt_selected:_.isFullPrompt,time_before_right_click_seconds:g,visit_count:w,is_returning_user:w>1,is_viral_session:!!V,copy_intent:"context_menu"}),setTimeout(()=>z("context_menu"),100)}};n.useEffect(()=>{if(s){const p=g=>b(g);return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)}},[s,N]),n.useEffect(()=>{if(!t)return;const p=`useCase_uses_${t.id}`,g=localStorage.getItem(p),w=g?Number(g):0;d(Number.isFinite(w)?w:0)},[t?.id]);const C=()=>{if(!t)return;const p=`useCase_uses_${t.id}`;d(g=>{const w=g+1;return localStorage.setItem(p,String(w)),w})};if(!t)return null;const I=bs[t.icon]||he,D=Ns(t.dateAdded),W=()=>{const p=window.promptOpenTime?Math.round((new Date().getTime()-window.promptOpenTime)/1e3):0,g=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),w=localStorage.getItem("style_scout_viral_session"),k=w?JSON.parse(w):null;h.capture("use_prompt_button_clicked",{prompt_id:t.id,prompt_title:t.title,prompt_categories:t.categories,prompt_difficulty:t.difficulty,prompt_author:t.author,time_before_use_seconds:p,engagement_level:p>30?"high":p>10?"medium":"low",visit_count:g,is_returning_user:g>1,is_viral_session:!!k,viral_entry_prompt:k?.prompt_id,conversion_funnel_step:"prompt_to_wizard"}),S(!0),C()},Y=()=>{if(window.promptOpenTime){const p=Math.round((new Date().getTime()-window.promptOpenTime)/1e3),g=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),w=localStorage.getItem("style_scout_viral_session"),k=w?JSON.parse(w):null;h.capture("prompt_modal_closed",{prompt_id:t.id,prompt_title:t.title,prompt_categories:t.categories,time_in_modal_seconds:p,engagement_level:p>30?"high":p>10?"medium":"low",visit_count:g,is_returning_user:g>1,is_viral_session:!!k,viral_entry_prompt:k?.prompt_id,close_method:"manual"})}o()},$=p=>{switch(p){case"Instant output":return"session-instant-output";case"Step-by-step flow":return"session-step-by-step-flow";default:return"session-instant-output"}},G=(p="share_button")=>{const g=new URL(ot(`/library/prompts/${t.slug}`),window.location.origin);return g.searchParams.set("utm_source","desktop_commander"),g.searchParams.set("utm_medium",p),g.searchParams.set("utm_campaign","prompt_sharing"),g.searchParams.set("utm_content",t.slug),g.searchParams.set("shared_at",Date.now().toString()),g.toString()},B=async()=>{const p=typeof navigator<"u"&&(/(Mobi|Android|iPhone|iPad|iPod)/i.test(navigator.userAgent)||typeof window<"u"&&window.matchMedia&&window.matchMedia("(pointer: coarse)").matches),g=p&&navigator.share?"native_share":"clipboard_copy",w=G(g),k=`Prompt: ${t.title}`,V=parseInt(localStorage.getItem("style_scout_visit_count")||"0"),ee=localStorage.getItem("style_scout_viral_session"),Z=ee?JSON.parse(ee):null;h.capture("share_button_clicked",{prompt_id:t.id,prompt_title:t.title,prompt_categories:t.categories,prompt_difficulty:t.difficulty,prompt_author:t.author,target_roles:t.targetRoles,device_type:p?"mobile":"desktop",share_url:w,share_method:g,source_page:"prompt_modal",visit_count:V,is_returning_user:V>1,is_viral_session:!!Z,viral_chain_length:Z?1:0,original_viral_prompt:Z?.prompt_id,time_on_prompt_seconds:Math.round((new Date().getTime()-(window.promptOpenTime||new Date().getTime()))/1e3)});try{if(p&&navigator.share){await navigator.share({title:k,text:"Check out this Desktop Commander prompt",url:w}),h.capture("share_native_completed",{prompt_id:t.id,prompt_title:t.title,device_type:"mobile",share_method:"native_share"});return}await navigator.clipboard.writeText(w),f(!0),setTimeout(()=>f(!1),1500),h.capture("share_link_copied",{prompt_id:t.id,prompt_title:t.title,device_type:p?"mobile":"desktop",share_method:"clipboard_copy"}),v({title:"Link copied",description:"Share it with your team.",action:e.jsx(Me,{altText:"Open link",onClick:()=>window.open(w,"_blank","noopener,noreferrer"),children:"Open"})})}catch{try{await navigator.clipboard.writeText(w),f(!0),setTimeout(()=>f(!1),1500),v({title:"Link copied",description:"Share it with your team.",action:e.jsx(Me,{altText:"Open link",onClick:()=>window.open(w,"_blank","noopener,noreferrer"),children:"Open"})})}catch{h.capture("share_failed",{prompt_id:t.id,prompt_title:t.title,device_type:p?"mobile":"desktop",error_type:"clipboard_fallback_failed"}),v({title:"Share failed",description:"Could not share or copy the link.",variant:"destructive"})}}};return e.jsxs(Mo,{open:s,onOpenChange:p=>{p||o()},children:[e.jsx(Be,{children:e.jsxs(Oo,{className:"w-[95vw] sm:max-w-2xl lg:max-w-4xl max-h-[90vh] mx-auto flex flex-col",children:[e.jsx(Ao,{className:"flex-shrink-0",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 pr-8 sm:pr-12 min-w-0",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-dc-surface-elevated rounded-lg flex-shrink-0",children:e.jsx(I,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs(Lo,{className:"text-lg sm:text-2xl leading-tight mb-2 sm:mb-3 break-words flex items-start gap-2",children:[t.title,D&&e.jsxs(Q,{variant:"outline",className:"text-xs bg-primary/10 text-primary border-primary/20 flex-shrink-0",children:[e.jsx(Ye,{className:"h-3 w-3 mr-1"}),"New"]})]}),e.jsx(Bo,{className:"sr-only",children:"Detailed information and actions for this prompt."}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap min-w-0",children:[t.verified&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs rounded-full border border-primary/20 bg-primary/10 text-primary px-2 py-0.5",children:[e.jsx(io,{className:"h-3 w-3"}),"Verified by DC team"]}),e.jsxs("div",{className:"relative inline-block",children:[e.jsxs(Q,{className:`difficulty-badge ${$(t.sessionType)} text-xs flex items-center gap-1 cursor-pointer hover:opacity-90 transition-opacity`,onClick:()=>c(!r),children:[e.jsx("span",{children:t.sessionType}),e.jsx(De,{className:"h-3 w-3"})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 z-50 w-72 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-3 animate-in fade-in-0 zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-1 flex-shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:Zt[t.sessionType]})}),e.jsx("button",{onClick:p=>{p.stopPropagation(),c(!1)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:"✕"})]}),e.jsx("div",{className:"absolute -top-2 left-4 w-4 h-4 bg-white dark:bg-gray-800 border-l border-t border-gray-200 dark:border-gray-700 rotate-45"})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.categories.map((p,g)=>e.jsx(Q,{variant:"outline",className:"text-xs",children:p},g))}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-muted-foreground",children:[e.jsx(lo,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"truncate",children:t.author})]})]})]}),e.jsxs("div",{className:"shrink-0 hidden sm:flex items-center gap-2","aria-label":"All-time engagement",children:[e.jsx(Le,{count:t.votes+(m?1:0)}),e.jsxs(co,{children:[e.jsx(po,{asChild:!0,children:e.jsx("button",{type:"button","aria-label":`Exact uses: ${t.votes} (all-time)`,className:"inline-flex items-center justify-center text-muted-foreground hover:text-foreground",children:e.jsx(De,{className:"h-4 w-4"})})}),e.jsxs(mo,{align:"end",side:"bottom",children:["Exact uses: ",t.votes," (all-time)"]})]})]})]})}),e.jsxs("div",{className:"space-y-4 sm:space-y-6 overflow-y-auto min-h-0 flex-1 pr-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-1.5 sm:mb-2",children:"Description"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed break-words",children:t.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:"Target Roles"}),e.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 min-w-0",children:t.targetRoles.map(p=>e.jsx(Q,{variant:"secondary",className:"role-tag text-xs",children:p},p))})]}),e.jsx(xo,{}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-3 sm:mb-4",children:e.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:"Complete Prompt"})}),e.jsx("div",{className:"p-3 sm:p-4 bg-dc-surface-elevated rounded-lg border min-w-0",onMouseUp:L,onKeyUp:L,onContextMenu:P,children:e.jsx("pre",{className:"text-xs sm:text-sm text-foreground whitespace-pre-wrap font-mono leading-relaxed select-text break-words overflow-wrap-anywhere min-w-0",children:t.prompt})})]})]}),e.jsx("div",{className:"flex-shrink-0 border-t pt-4 mt-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3 min-w-0",children:[e.jsx(ae,{variant:"outline",onClick:Y,className:"order-3 sm:order-1 min-w-0",children:e.jsx("span",{className:"truncate",children:"Close"})}),e.jsxs(qt,{children:[e.jsx(Xt,{asChild:!0,children:e.jsxs(ae,{variant:"outline",onClick:B,"aria-label":"Share this prompt",className:"flex items-center gap-2 order-2 min-w-0",children:[e.jsx(uo,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:j?"Copied":"Share"})]})}),e.jsx(Qt,{children:"Copy link to share"})]}),e.jsxs(ae,{className:"dc-button-primary flex items-center gap-2 order-1 sm:order-3 min-w-0",onClick:W,children:[e.jsx(fo,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Use Prompt"})]})]})})]})}),e.jsx(ho,{isOpen:u,onClose:()=>S(!1),prompt:t.prompt,promptTitle:t.title})]})}function on({initialPromptId:t}){const s=n.useMemo(()=>{if(typeof window>"u")return[];const P=new URLSearchParams(window.location.search).get("role");return P?[P]:[]},[]),[o,i]=n.useState(Ee),[l,m]=n.useState(""),[a,r]=n.useState([]),[c,u]=n.useState(s),[S,j]=n.useState([]),[f,v]=n.useState("popularity"),T=["8","59","2","55","53","82","78","4","43"],d=n.useMemo(()=>t&&Ee.find(b=>b.id===t)||null,[t]),[h,N]=n.useState(d),[x,_]=n.useState(!!d);n.useEffect(()=>{t&&d&&!x&&(N(d),_(!0))},[t,d,x]);const F=n.useMemo(()=>{let b=o;if(l){const C=l.toLowerCase();b=b.filter(I=>I.title.toLowerCase().includes(C)||I.description.toLowerCase().includes(C)||I.prompt.toLowerCase().includes(C)||I.categories.some(D=>D.toLowerCase().includes(C))||I.targetRoles.some(D=>D.toLowerCase().includes(C)))}a.length>0&&(b=b.filter(C=>a.some(I=>C.categories.includes(I)))),c.length>0&&(b=b.filter(C=>c.some(I=>C.targetRoles.includes(I)))),S.length>0&&(b=b.filter(C=>S.includes(C.sessionType)));const P=[...b];switch(f){case"popularity":P.sort((C,I)=>(I.gaClicks||0)-(C.gaClicks||0));break;case"newest":P.sort((C,I)=>{const D=new Date(C.dateAdded||"1970-01-01").getTime();return new Date(I.dateAdded||"1970-01-01").getTime()-D});break;case"alphabetical":P.sort((C,I)=>C.title.localeCompare(I.title));break}if(!l&&a.length===0&&c.length===0&&S.length===0){const C=P.filter(D=>T.includes(D.id)),I=P.filter(D=>!T.includes(D.id));return[...C,...I]}return P},[o,l,a,c,S,f]),L=b=>{const P=b.slug||b.id;window.location.href=ot(`/library/prompts/${P}`)},z=b=>{console.log("Vote for prompt:",b)};return e.jsxs(Be,{children:[e.jsxs("div",{className:"container mx-auto px-4 py-8 mt-20",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Prompt Library"}),e.jsxs("p",{className:"text-muted-foreground",children:["Discover ",o.length,"+ curated prompts for Desktop Commander"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Do,{}),e.jsx(ae,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:"https://docs.desktopcommander.app",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:["Documentation",e.jsx(Vo,{className:"h-4 w-4"})]})})]})]}),e.jsx(Ss,{searchTerm:l,onSearchChange:m,selectedCategories:a,onCategoriesChange:r,selectedRoles:c,onRolesChange:u,selectedSessionTypes:S,onSessionTypesChange:j,sortBy:f,onSortChange:v,totalResults:F.length})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(b=>e.jsx(Ko,{useCase:b,onOpen:L,onVote:z},b.id))}),F.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-muted-foreground text-lg",children:"No prompts found matching your filters."}),e.jsx(ae,{variant:"outline",className:"mt-4",onClick:()=>{m(""),r([]),u([]),j([])},children:"Clear Filters"})]})]}),e.jsx(js,{useCase:h,isOpen:x,onClose:()=>_(!1),onVote:z})]})}export{on as default};
